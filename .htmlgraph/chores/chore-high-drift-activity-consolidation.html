<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="htmlgraph-version" content="1.0">
    <title>Chore: Consolidate High-Drift Activity Classification</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <article id="chore-high-drift-activity-consolidation"
             data-type="chore"
             data-status="pending"
             data-priority="high"
             data-created="2025-12-16T20:16:00Z"
             data-updated="2025-12-16T20:16:00Z"
             data-agent-assigned="claude">

        <header>
            <h1>Consolidate High-Drift Activity Classification</h1>
            <div class="metadata">
                <span class="badge status-pending">Pending</span>
                <span class="badge priority-high">High Priority</span>
                <span class="badge type-chore">Chore</span>
            </div>
        </header>

        <!-- Graph Edges -->
        <nav data-graph-edges>
            <section data-edge-type="related">
                <h3>üîó Related:</h3>
                <ul>
                    <li><a href="../features/feature-self-tracking.html" data-relationship="related">Self-Tracking Feature</a></li>
                    <li><a href="../spikes/spike-drift-activity-classification-result.html" data-relationship="related">Classification Result Spike</a></li>
                </ul>
            </section>

            <section data-edge-type="blocks">
                <h3>‚ö†Ô∏è Blocks:</h3>
                <ul>
                    <li><a href="../features/feature-self-tracking.html" data-relationship="blocks">Unresolved false-positive drift signals</a></li>
                </ul>
            </section>

            <section data-edge-type="implemented-in">
                <h3>üìù Sessions:</h3>
                <ul>
                    <li><a href="../sessions/" data-relationship="implemented-in">Current session</a></li>
                </ul>
            </section>
        </nav>

        <!-- Node Properties -->
        <section data-properties>
            <h3>Properties</h3>
            <dl>
                <dt>Drift Score Detected</dt>
                <dd data-key="drift-score" data-value="0.71">0.71 (High)</dd>

                <dt>Activity Count</dt>
                <dd data-key="activity-count" data-value="5">5 activities analyzed</dd>

                <dt>Classification Type</dt>
                <dd data-key="classification">CHORE - Infrastructure/Maintenance</dd>

                <dt>Confidence</dt>
                <dd data-key="confidence" data-value="0.82">High (0.82)</dd>

                <dt>Root Cause</dt>
                <dd data-key="root-cause">System reads (.htmlgraph/* files) triggering false drift signals</dd>
            </dl>
        </section>

        <!-- Consolidation Steps -->
        <section data-steps>
            <h3>Consolidation Tasks</h3>
            <ol>
                <li data-completed="true" data-agent="claude">
                    ‚úÖ Analyzed 5 high-drift activities (0.71 score)
                </li>
                <li data-completed="true" data-agent="claude">
                    ‚úÖ Reviewed spike classification analysis
                </li>
                <li data-completed="true" data-agent="claude">
                    ‚úÖ Identified root cause: self-referential infrastructure reads
                </li>
                <li data-completed="false">
                    ‚è≥ Filter .htmlgraph/** paths from drift scoring algorithm
                </li>
                <li data-completed="false">
                    ‚è≥ Implement drift queue purge for self-referential entries
                </li>
                <li data-completed="false">
                    ‚è≥ Document drift classification rules in CLAUDE.md
                </li>
                <li data-completed="false">
                    ‚è≥ Add unit tests for drift filtering logic
                </li>
                <li data-completed="false">
                    ‚è≥ Verify feature-self-tracking can proceed without false positives
                </li>
            </ol>
        </section>

        <!-- Content -->
        <section data-content>
            <h3>Overview</h3>
            <p>During feature-self-tracking work, 5 high-drift activities (0.71 score) were detected. Analysis shows these are legitimate infrastructure/maintenance activities, not off-topic work. This chore consolidates findings and implements the solution.</p>

            <h4>Detected High-Drift Activities (Drift: 0.71):</h4>
            <ul>
                <li><strong>Write</strong> - spike-tracker-drift-invocations.html</li>
                <li><strong>Skill</strong> - htmlgraph:htmlgraph-tracker activation</li>
                <li><strong>Bash</strong> - Check recently modified work items</li>
                <li><strong>Read</strong> - spike-drift-activity-classification-result.html</li>
                <li><strong>Read</strong> - chore-high-drift-activity-consolidation.html</li>
            </ul>

            <h4>Classification Rationale: CHORE (Infrastructure Maintenance)</h4>
            <ul>
                <li>‚úÖ Maintaining and improving drift classification system</li>
                <li>‚úÖ System-level work on HtmlGraph self-tracking infrastructure</li>
                <li>‚úÖ No user-facing feature additions or bug fixes</li>
                <li>‚úÖ Foundational for feature-self-tracking to progress cleanly</li>
            </ul>

            <h4>Problem Statement:</h4>
            <p>The drift classification system is flagging its own maintenance activities as "high drift" because it reads .htmlgraph/* infrastructure files. This creates a self-referential signal that:</p>
            <ul>
                <li>Prevents accurate detection of actual off-topic work</li>
                <li>Blocks feature-self-tracking progress with false positives</li>
                <li>Requires system-level filtering improvements</li>
            </ul>

            <h4>Solution Approach:</h4>
            <ol>
                <li><strong>Filter:</strong> Exclude .htmlgraph/* directory reads from drift calculation</li>
                <li><strong>Cleanse:</strong> Purge self-referential metadata entries from drift queue</li>
                <li><strong>Document:</strong> Establish rules for "on-topic" vs "off-topic" classifications</li>
                <li><strong>Test:</strong> Add unit tests for filtering logic to prevent regression</li>
            </ol>

            <h4>Success Criteria:</h4>
            <ul>
                <li>‚úì Drift scores exclude .htmlgraph/** reads</li>
                <li>‚úì Self-referential drift queue entries removed</li>
                <li>‚úì Drift classification rules documented</li>
                <li>‚úì Unit tests validate filtering implementation</li>
                <li>‚úì feature-self-tracking progresses without false drift warnings</li>
                <li>‚úì No regression in legitimate drift detection</li>
            </ul>

            <h4>Impact:</h4>
            <p>Completing this chore will:</p>
            <ul>
                <li>Clean up false drift signals from infrastructure work</li>
                <li>Improve accuracy of off-topic work detection</li>
                <li>Enable feature-self-tracking to complete cleanly</li>
                <li>Strengthen HtmlGraph's self-tracking capabilities</li>
            </ul>
        </section>

        <!-- Activity Log -->
        <section data-activity-log>
            <h3>Activity Log</h3>
            <ol reversed>
                <li data-timestamp="2025-12-16T20:16:00Z" data-agent="claude">
                    ‚úÖ Created chore consolidating high-drift activity analysis into actionable work item
                </li>
            </ol>
        </section>
    </article>
</body>
</html>