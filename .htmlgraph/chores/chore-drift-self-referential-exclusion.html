<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="htmlgraph-version" content="1.0">
    <title>Chore: Exclude Self-Referential Drift Metadata from Scoring</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <article id="chore-drift-self-referential-exclusion"
             data-type="chore"
             data-status="pending"
             data-priority="high"
             data-created="2025-12-16T14:30:00Z"
             data-updated="2025-12-16T14:30:00Z"
             data-agent-assigned="claude">

        <header>
            <h1>Exclude Self-Referential Drift Metadata from Scoring</h1>
            <div class="metadata">
                <span class="badge status-pending">Pending</span>
                <span class="badge priority-high">High Priority</span>
                <span class="badge type-chore">Chore</span>
            </div>
        </header>

        <!-- Graph Edges -->
        <nav data-graph-edges>
            <section data-edge-type="related">
                <h3>üîó Related:</h3>
                <ul>
                    <li><a href="../features/feature-self-tracking.html">Self-Tracking Feature</a></li>
                    <li><a href="chore-drift-classification-consolidation.html">Drift Classification Consolidation</a></li>
                </ul>
            </section>

            <section data-edge-type="blocks">
                <h3>‚ö†Ô∏è Blocks:</h3>
                <ul>
                    <li><a href="../features/feature-self-tracking.html">Unblocks feature-self-tracking progress</a></li>
                </ul>
            </section>

            <section data-edge-type="implemented-in">
                <h3>üìù Sessions:</h3>
                <ul>
                    <li><a href="../sessions/">Current session</a></li>
                </ul>
            </section>
        </nav>

        <!-- Node Properties -->
        <section data-properties>
            <h3>Properties</h3>
            <dl>
                <dt>Drift Activities Analyzed</dt>
                <dd data-key="activity-count" data-value="5">5 high-drift activities (0.71 score)</dd>

                <dt>Pattern Identified</dt>
                <dd data-key="pattern">Self-referential system metadata reads (.htmlgraph/*)</dd>

                <dt>Classification Confidence</dt>
                <dd data-key="confidence" data-value="0.85">High (0.85)</dd>

                <dt>Effort Estimate</dt>
                <dd data-key="effort" data-unit="hours" data-value="3">3 hours</dd>
            </dl>
        </section>

        <!-- Implementation Steps -->
        <section data-steps>
            <h3>Implementation Steps</h3>
            <ol>
                <li data-completed="false">
                    ‚è≥ Update drift scoring algorithm to exclude .htmlgraph/* reads
                </li>
                <li data-completed="false">
                    ‚è≥ Define exclusion rules in drift-queue filter logic
                </li>
                <li data-completed="false">
                    ‚è≥ Document exclusion patterns in CLAUDE.md
                </li>
                <li data-completed="false">
                    ‚è≥ Add unit tests for drift filtering
                </li>
                <li data-completed="false">
                    ‚è≥ Verify feature-self-tracking no longer triggers false drift alerts
                </li>
            </ol>
        </section>

        <!-- Content -->
        <section data-content>
            <h3>Description</h3>
            <p>The drift classification system is currently flagging self-referential system metadata operations as high-drift activities. During feature-self-tracking work, 5 activities were marked as high-drift (0.71 score) when they were actually infrastructure maintenance:</p>

            <h4>High-Drift Activities Detected:</h4>
            <ul>
                <li><strong>Read:</strong> /Users/shakes/DevProjects/htmlgraph/.htmlgraph/spikes/spike-classify-high-drift-activities.html (drift: 0.71)</li>
                <li><strong>Read:</strong> /Users/shakes/DevProjects/htmlgraph/.htmlgraph/chores/chore-drift-classification-consolidation.html (drift: 0.71)</li>
                <li><strong>Write:</strong> /Users/shakes/DevProjects/htmlgraph/.htmlgraph/chores/chore-drift-skill-optimization.html (drift: 0.71)</li>
                <li><strong>Write:</strong> /Users/shakes/DevProjects/htmlgraph/.htmlgraph/spikes/spike-drift-activity-classification-result.html (drift: 0.71)</li>
                <li><strong>Bash:</strong> Show most recently modified spike files (drift: 0.71)</li>
            </ul>

            <h4>Root Cause:</h4>
            <p>The drift algorithm cannot distinguish between:</p>
            <ul>
                <li>‚úó <strong>True off-topic drift:</strong> Working on unrelated features while assigned feature-self-tracking</li>
                <li>‚úì <strong>System operations:</strong> Reading/writing drift infrastructure files as part of monitoring and classification</li>
            </ul>

            <h4>Solution:</h4>
            <ol>
                <li><strong>Exclude .htmlgraph/* paths</strong> from drift scoring calculation</li>
                <li><strong>Document pattern:</strong> System metadata operations are structural, not drift</li>
                <li><strong>Filter logic:</strong> Apply exclusion at drift-queue level, not per-activity</li>
                <li><strong>Test coverage:</strong> Validate filtering doesn't eliminate legitimate drift detection</li>
            </ol>

            <h4>Acceptance Criteria:</h4>
            <ul>
                <li>‚úì .htmlgraph/* file reads no longer contribute to drift scores</li>
                <li>‚úì Drift scores for on-topic work are unaffected</li>
                <li>‚úì Filtering rules documented and justified</li>
                <li>‚úì Unit tests validate filtering logic</li>
                <li>‚úì feature-self-tracking can progress without false drift warnings</li>
            </ul>

            <h4>Why This Matters:</h4>
            <ul>
                <li>Prevents cascading false positives when investigating drift classifications</li>
                <li>Clears noise from tracking system so real off-topic work is flagged</li>
                <li>Allows feature-self-tracking to continue with clean drift signals</li>
                <li>Establishes pattern for distinguishing system vs application drift</li>
            </ul>
        </section>

        <!-- Activity Log -->
        <section data-activity-log>
            <h3>Activity Log</h3>
            <ol reversed>
                <li data-timestamp="2025-12-16T14:30:00Z" data-agent="claude">
                    Created chore work item from high-drift activity classification analysis
                </li>
            </ol>
        </section>
    </article>
</body>
</html>
