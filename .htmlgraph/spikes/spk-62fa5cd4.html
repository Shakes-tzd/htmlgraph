<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="htmlgraph-version" content="1.0">
    <title>Git Pre-Commit Hooks in Python Projects</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <article id="spk-62fa5cd4"
             data-type="spike"
             data-status="todo"
             data-priority="medium"
             data-created="2026-01-10T08:25:28.295614"
             data-updated="2026-01-10T08:25:28.295618" data-spike-type="general" data-timebox-hours="4" data-agent-assigned="haiku">

        <header>
            <h1>Git Pre-Commit Hooks in Python Projects</h1>
            <div class="metadata">
                <span class="badge status-todo">Todo</span>
                <span class="badge priority-medium">Medium Priority</span>
            </div>
        </header>

    
        <section data-spike-metadata>
            <h3>Spike Metadata</h3>
            <dl>
                <dt>Type</dt>
                <dd>General</dd>
                <dt>Timebox</dt>
                <dd>4 hours</dd>
            </dl>
        </section>
        <section data-findings>
            <h3>Findings</h3>
            <div class="findings-content">
                # Git Pre-Commit Hooks in Python Projects

## Summary
Git pre-commit hooks are automated scripts that run before commits to catch issues early. In Python projects, the `pre-commit` framework (https://pre-commit.com/) is the standard approach, using `.pre-commit-hooks.yaml` to define hooks and `.pre-commit-config.yaml` to register them.

## Key Findings

### 1. Configuration Files
- **`.pre-commit-hooks.yaml`** - Created by hook authors to define what hooks they provide (entry, language, file types)
- **`.pre-commit-config.yaml`** - Created in your project root to register which hooks to use from which repos
- **`.git/hooks/pre-commit`** - Auto-generated by `pre-commit install` command

### 2. Registration Process
```yaml
# .pre-commit-config.yaml example
repos:
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.4.0
    hooks:
      - id: check-yaml
      - id: trailing-whitespace
      - id: end-of-file-fixer
  - repo: https://github.com/psf/black
    rev: 23.1.0
    hooks:
      - id: black
```

### 3. Environment Variables Available
- `SKIP` - Comma-separated hook IDs to skip
- `PRE_COMMIT_FROM_REF` - Remote revision (for pre-push hooks)
- `PRE_COMMIT_TO_REF` - Local revision being pushed
- `PRE_COMMIT_REMOTE_NAME` - Remote name (e.g., 'origin')
- `PRE_COMMIT_USE_MAMBA` / `PRE_COMMIT_USE_MICROMAMBA` - Use conda variants
- `PRE_COMMIT_HOME` - Custom cache location

### 4. Common Python Hooks (3 Examples)

**Example 1: YAML Validation**
```yaml
- id: check-yaml
  name: Check YAML
  entry: check-yaml
  language: python
  types: [yaml]
```

**Example 2: Code Formatting (Black)**
```yaml
- id: black
  name: black formatter
  entry: black
  language: python
  types: [python]
```

**Example 3: Trailing Whitespace**
```yaml
- id: trailing-whitespace
  name: Trim trailing whitespace
  entry: trailing-whitespace-fixer
  language: python
  types: [text]
```

## Installation & Usage
1. Create `.pre-commit-config.yaml` in project root
2. Run `pre-commit install` to generate `.git/hooks/pre-commit`
3. Hooks run automatically on `git commit`
4. Skip specific hooks: `SKIP=black git commit`

## Benefits
- Catches issues before code review
- Enforces consistent code standards
- Language-agnostic (supports Python, Node, Go, Rust, etc.)
- Zero performance overhead between commits
            </div>
        </section>
    </article>
</body>
</html>
